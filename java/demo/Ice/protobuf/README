This demo shows how to integrate Google Protocol Buffers with Ice.

The Protocol Buffers distribution and documentation can be found at

  http://code.google.com/apis/protocolbuffers/

This demo was tested with Protocol Buffers version 2.0.3.

We have added new metadata that makes it possible for you to specify
protocol buffers message types in your Slice definitions, with Ice
handling the serialization chores for you automatically. The metadata,
which may only be used on a sequence<byte> type, has the following
syntax in Java:

  java:protobuf:protoc-generated-class

For example:

  ["java:protobuf:tutorial.PersonPB.Person"] sequence<byte> Person;

The type name specified in this example, tutorial.PersonPB.Person,
corresponds to the Java class generated by the Protocol Buffers
compiler (protoc) for the definition shown below:

  package tutorial;
  option java_outer_classname = "PersonPB";
  message Person { ... };

This demo uses an ant build task, located in the "ant" subdirectory,
for compiling .proto files.

Prior to building the demo, you should add protoc to your PATH and
protobuf-java-2.0.3.jar to your CLASSPATH.

To run the demo, first start the server:

  $ java Server

In a separate window, start the client:

  $ java Client
